# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class ClaudeDashboard < Formula
  desc "k9s-style TUI for managing Claude Code sessions"
  homepage "https://github.com/seunggabi/claude-dashboard"
  version "0.9.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/seunggabi/claude-dashboard/releases/download/v0.9.0/claude-dashboard_0.9.0_darwin_amd64.tar.gz"
      sha256 "57371267452509e155b2e38a9efe71b71a2625b600c3cd3ac113af24709ea49f"

      def install
        bin.install "claude-dashboard"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/seunggabi/claude-dashboard/releases/download/v0.9.0/claude-dashboard_0.9.0_darwin_arm64.tar.gz"
      sha256 "4871527ea197b7870a2a0907930f099004f4e5f8bf39455ca71eb2995371958b"

      def install
        bin.install "claude-dashboard"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/seunggabi/claude-dashboard/releases/download/v0.9.0/claude-dashboard_0.9.0_linux_amd64.tar.gz"
      sha256 "983a555193e115b361fcc1666c4bd2b7e18e30d5d266d07f2a0c5b94496728b8"
      def install
        bin.install "claude-dashboard"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/seunggabi/claude-dashboard/releases/download/v0.9.0/claude-dashboard_0.9.0_linux_arm64.tar.gz"
      sha256 "75b4a9313ee8031a904734b3f5f7f57ba17619dca726972465799074f1175fe0"
      def install
        bin.install "claude-dashboard"
      end
    end
  end

  def post_install
    # Helper scripts are embedded in the binary
    # They will be installed automatically on first run
    system "#{bin}/claude-dashboard", "setup" rescue nil
  end

  def caveats
    <<~EOS
      Setup is automatic on first run, or run manually:
        claude-dashboard setup

      This will:
      - Install helper scripts to ~/.local/bin/
      - Configure ~/.tmux.conf for F12 mouse toggle
      - Add status bar with version info

      To start using claude-dashboard:
        claude-dashboard
    EOS
  end
end
